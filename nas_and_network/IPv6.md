# IPv6

>主路由进行 PPPoE 桥接之后，由主路由开启 IPv6，这样每个设备默认会分配到一个公网 IP 地址。

[PPPoE 模式下 IPv6 的设置](./Ipv6/IPv6.png)

开启 IPv6 代理后，会出现一系列的兼容问题，建议不要开启。<sapn style="color:red">IPv6 建议用于国内直连。</sapn>

注意：<span style="color:red">需要跟据 Vps/节点提供商确认是否支持</span>

该站点只支持 ipv6：<http://6.ipw.cn>

## OpenClash

> 这里只说明做其为旁路由的情况。

使用 OpenClash 做旁路由并开启 IPv6 的时候，它并不会主动代理 IPv6，建议还是关闭。如果有一些网站嗅探你的 IPv6 的地址，即使你开了 IPv6 代理，它也不会代理，显示的 IP 还是国内的 IPv6 的 IP。所以如果一定要访问这些网站建议关闭，或者单独设置一个子网，并将 IPv6 关闭。

* 在该插件中，IPv6 的 DNS 服务器并不会出现解析错误，可以直接使用旁路由的 DNS 服务器。
* 如果需要关闭 IPv6 DNS 记录，那么首先需要开机 **DHCP/DNS** 下的**高级设置**中的**禁止解析 IPv6 DNS 记录**功能，这样就会得到网站 IPv4 的 DNS 记录，默认 OPenClash 中的 IPv6 功能是全部关闭的，而不会使用本机的 IPv6 去访问（但是即使这样，对方网站并不会过滤掉本机的 AAAA 记录）

可以使用该网站去测试：<https://ip125.com>，一般情况下不会出现 IPv6 地址，即使出现，并没有什么影响。

## merlingClash

> 这里是作为主路由。merlingClash 最大的问题就是 IPv6 的 DNS 记录，对于访问只有 IPv6 的网站，不能建立连接。

* 开启 IPv6，开启 IPv6 后会出现的问题（[开启 IPv6](https://mcreadme.gitbook.io/mc/Advanced/udp)），由于使用的是代理，如果代理的 ssl 证书有问题，在控制台会有一系列的警告（和 ssl 证书相关的）
* 关于下发的 IPv6 DNS 服务器，实际上并不能解析只有 IPv6 的网站，所以需要手动指定公共的 DNS，可能是我的华硕路由器太老，并不能指定 IPv6 的 DNS。可以指定以下的 DNS 服务器

| 服务商     | DNS                                          |
| ---------- | -------------------------------------------- |
| Cloudflare | 2606:4700:4700::1111 、2606:4700:4700::1001  |
| Google     | 2001:4860:4860::8888 、 2001:4860:4860::8844 |
